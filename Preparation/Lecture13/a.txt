Frangipani copes with this situation by having the Frangipani server to acquire the lock before the write the data to Petal with the sync operation.